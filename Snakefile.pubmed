
OUTPUTS.extend([
	"outputs/pubmed/baseline"
])

rule baseline:
	output:
		directory("source/pubmed/baseline")
	shell:
		"wget -N -nH --cut-dirs=1 --recursive -P source/pubmed/ ftp://ftp.ncbi.nlm.nih.gov/pubmed/baseline/"

rule publications:
	input:
		"source/pubmed/baseline/{fragment}.xml.gz"
	output:
		"outputs/pubmed/baseline/{fragment}.Publication.Vertex.json.gz"
	shell:
		"python3 transform/pubmed/pubmed.py source/pubmed/baseline/{wildcards.fragment}.xml.gz"
