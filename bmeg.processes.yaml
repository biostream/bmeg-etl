##################
### ENSEMBL

- key: ensembl-extract
  command: curl-extract
  vars:
    URL: ftp://ftp.ensembl.org/pub/release-90/gff3/homo_sapiens/Homo_sapiens.GRCh38.90.chr.gff3.gz
  outputs:
    OUT: source/ensembl.gtf.gz

- key: ensembl-transform
  command: ensembl-transform
  inputs:
    GAF_GZ: source/ensembl.gtf.gz
  outputs:
    TRANSCRIPT: biostream/ensembl/ensembl.Transcript.json
    GENE: biostream/ensembl/ensembl.Gene.json
    EXON: biostream/ensembl/ensembl.Exon.json

############
### CCLE

- key: ccle-drug-transform
  command: ccle-drug-transform
  inputs:
    DRUG_DATA: source/CCLE_NP24.2009_Drug_data_2015.02.24.csv
    PUBCHEM: source/ccle_pubchem.txt
  outputs:
    RESPONSES: biostream/ccle/ccle.ResponseCurve.json

- key: ccle-sample-transform
  command: ccle-sample-transform
  inputs:
    SAMPLE_TSV: source/CCLE_sample_info_file_2012-10-18.txt
  outputs:
    SAMPLES: biostream/ccle/ccle.Sample.json

- key: ccle-variant-transform
  command: maf-transform
  vars:
    SAMPLE_PREFIX: "ccle:biosample"
    VARIANT_PREFIX: "ccle:variant"
  inputs:
    MAF: source/ccle2maf_081117.txt
  outputs:
    VARIANT: biostream/ccle/Variant.json
    VARIANT_ANNOTATION: biostream/ccle/VariantAnnotation.json
    CALLSET: biostream/ccle/CallSet.json

############
## GeneOntology

- key: go-transform
  command: go-transform
  inputs:
    OBO: source/go.obo
  outputs:
    OUT: biostream/go/GeneOntologyTerm.json

- key: gaf-transform
  command: gaf-transform
  inputs:
    GAF: source/goa_human.gaf.gz
    UNIPRO_MAP: source/HUMAN_9606_idmapping.dat.gz
  outputs:
    OUT: biostream/ccle/GeneOntologyAnnotation.json

##############
### CTDD

- key: ctdd-response-transform
  command: ctdd-transform
  inputs:
    CTRP_ZIP: source/CTRPv2.0_2015_ctd2_ExpandedDataset.zip
  outputs:
    RESPONSE: biostream/ctdd/ctdd.ResponseCurve.json

##############
### TCGA

- key: "gdc-project-{{PROJECT}}"
  command: gdc-full-circle
  vars:
    PROJECT: [TCGA-BRCA, TCGA-LUAD]
  inputs:
    GTF: source/ensembl.gtf.gz
  outputs:
    EXPRESSION: "biostream/tcga/{{PROJECT}}.GeneExpression.json"
    SEGMENT: "biostream/tcga/{{PROJECT}}.CNASegment.json"
    CALL_SET: "biostream/tcga/{{PROJECT}}.CNACallSet.json"
    INDIVIDUAL: "biostream/tcga/{{PROJECT}}.Individual.json"
    CLINICAL_FOLLOWUP: "biostream/tcga/{{PROJECT}}.ClinicalFollowup.json"
    DRUG_THERAPY: "biostream/tcga/{{PROJECT}}.DrugTherapy.json"
    RADIATION_THERAPY: "biostream/tcga/{{PROJECT}}.RadiationTherapy.json"

#############
### MC3

- key: mc3-transform
  command: maf-transform
  vars:
    SAMPLE_PREFIX: "mc3:biosample"
    VARIANT_PREFIX: "mc3:variant"
  inputs:
    MAF: source/mc3.v0.2.8.PUBLIC.maf.gz
  outputs:
    VARIANT: biostream/mc3/Variant.json
    VARIANT_ANNOTATION: biostream/mc3/VariantAnnotation.json
    CALLSET: biostream/mc3/CallSet.json

#############
### CTRP 

- key: ctrp-extract
  command: curl-extract
  vars:
    URL: ftp://caftpd.nci.nih.gov/pub/OCG-DCC/CTD2/Broad/CTRPv2.0_2015_ctd2_ExpandedDataset/CTRPv2.0_2015_ctd2_ExpandedDataset.zip
  outputs:
    OUT: source/ctrp.zip

- key: cancerrxgene-cellline-extract
  command: curl-extract
  vars:
    URL: ftp://ftp.sanger.ac.uk/pub/project/cancerrxgene/releases/release-6.0/Cell_Lines_Details.xlsx
  outputs:
    OUT: source/crx/cell-lines.xlsx

- key: cancerrxgene-dose-extract
  command: curl-extract
  vars:
    URL: ftp://ftp.sanger.ac.uk/pub/project/cancerrxgene/releases/release-6.0/v17_fitted_dose_response.xlsx
  outputs:
    OUT: source/crx/dose-response.xlsx

- key: cancerrxgene-conversion-extract
  command: curl-extract
  vars:
    URL: ftp://ftp.sanger.ac.uk/pub/project/cancerrxgene/releases/release-6.0/GDSC-CCLE-CTRP_conversion.xlsx
  outputs:
    OUT: source/crx/conversion.xlsx

- key: cancerrxgene-compounds-extract
  command: curl-extract
  vars:
    URL: ftp://ftp.sanger.ac.uk/pub/project/cancerrxgene/releases/release-6.0/Screened_Compounds.xlsx
  outputs:
    OUT: source/crx/compounds.xlsx

- key: cancerrxgene-rawdata-extract
  command: curl-extract
  vars:
    URL: ftp://ftp.sanger.ac.uk/pub/project/cancerrxgene/releases/release-6.0/v17a_public_raw_data.xlsx
  outputs:
    OUT: source/crx/raw-data.xlsx

